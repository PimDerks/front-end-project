define(["module","conditioner/Observer","ui/ToggleGroup"],function(e,t,n){var r=function(){this._toggles=[],this._groups=[],this._triggers=[]};r.prototype={register:function(e){this._toggles.push(e),this._manageGroup(e)},remove:function(e){var t=e.getGroup();t&&this._groups[t]&&this._groups[t].remove(e);var n=this._toggles.length,r;for(r=0;r<n;r++){var i=this._toggles[r];i===e&&this._toggles.splice(r,1)}},_manageGroup:function(e){var t=e.getGroup();t&&(this._groups[t]||(this._groups[t]=new n(t)),this._groups[t].register(e))},getToggleById:function(e){var t=this._toggles.length;for(t>0;t--;){var n=this._toggles[t];if(n._id===e)return n}return},getToggleGroupById:function(e){for(var t in this._groups)if(t===e)return this._groups[t];return!1},getTriggersByTargetId:function(e){var t=this._toggles.length,n=[];for(t>0;t--;){var r=this._toggles[t];r._targetId===e&&n.push(r)}return n}};var i=null;return{getInstance:function(){return i||(i=new r),i}}});